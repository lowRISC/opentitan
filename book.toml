[book]
authors = ["lowRISC"]
language = "en"
multilingual = false
src = "."
title = "OpenTitan Documentation"

[output.html]
fold = { enable = true, level = 1 }
git-repository-url = "https://github.com/lowrisc/opentitan"
edit-url-template = "https://github.com/lowrisc/opentitan/edit/master/{path}"
curly-quotes = true

additional-js = [
    "./util/mdbook/wavejson/default.js",
    "./util/mdbook/wavejson/wavedrom.min.js",
    "./util/mdbook/wavejson/wavejson.js",
]

additional-css = [
    "./util/mdbook/wavejson/wavejson.css",
]

[preprocessor.readme2index]
command = "./util/mdbook-readme2index"

[preprocessor.wavejson]
command = "./util/mdbook-wavejson"

[preprocessor.reggen]
command = "./util/mdbook-reggen"
# Python RegEx identifying ip block config paths.
ip-cfg-py-regex = '(ip|ip_autogen)/.+/data/(?!.+_testplan).+\.hjson'

[preprocessor.testplan]
command = "./util/mdbook-testplan"
# Python RegEx identifying testplan paths.
testplan-py-regex = '.+_testplan\.hjson'

[preprocessor.otbn]
command = "./util/mdbook-otbn"

[preprocessor.doxygen]
command = "./util/mdbook-doxygen"
out-dir = "docs/"
html-out-dir = "doxy/"
dif-src-py-regex = 'dif_\S*\.h'
