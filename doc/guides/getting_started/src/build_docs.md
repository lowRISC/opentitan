# Building documentation

The documentation for OpenTitan is available [online](https://opentitan.org).
The creation of documentation is mainly based around the conversion from Markdown to HTML files with [mdbook](https://rust-lang.github.io/mdBook/).
Rules for how to write correct Markdown files can be found in the [reference manual](https://opentitan.org/book/doc/contributing/style_guides/markdown_usage_style.html).

## Building locally

The documentation is written to use some project specific [preprocessors](https://rust-lang.github.io/mdBook/format/configuration/preprocessors.html).

In order to run them, you'll need some dependencies.
Most are mentioned in two steps of the Getting Started guide:
- [Install dependencies using the package manager](README.md#step-2-install-dependencies-using-the-package-manager)
- [Install Python libraries needed](README.md#step-3-install-python-libraries-needed)

There are also a couple of documentation-specific dependencies that you'll need.
Specifically, you need
- [Cargo](https://doc.rust-lang.org/cargo/), the Rust package manager
- [mdbook](https://rust-lang.github.io/mdBook/), which can be installed using Cargo
- [hugo](https://gohugo.io/)

Once the dependencies have been installed, the documentation can be built with `util/site/build-docs.sh`.
This also handles auto-genenerated content, such as the API documentation, which is generated by [Doxygen](https://www.doxygen.nl/).

### Running the server

In order to run a local instance of the documentation server run the following command from the root of the project repository.

```sh
./util/site/build-docs.sh serve
```

This will execute the preprocessing, build the documentation and finally start a local server.
The output will indicate at which address the local instance can be accessed.
The default is [http://0.0.0.0:9000](http://0.0.0.0:9000).
